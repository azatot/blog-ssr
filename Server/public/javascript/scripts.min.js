"use strict";function _objectWithoutProperties(e,o){if(null==e)return{};var r,t,s=_objectWithoutPropertiesLoose(e,o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(t=0;t<n.length;t++)r=n[t],o.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _objectWithoutPropertiesLoose(e,o){if(null==e)return{};var r,t,s={},n=Object.keys(e);for(t=0;t<n.length;t++)r=n[t],o.indexOf(r)>=0||(s[r]=e[r]);return s}$((function(){var e=!0;$(".auth form .switch-button").on("click",(function(o){o.preventDefault(),e?(e=!1,$(".register").show("slow"),$(".login").hide()):(e=!0,$(".login").show("slow"),$(".register").hide()),$("p.error").remove(),$("p.success").remove(),$("input").css({"box-shadow":"none"})})),$("input").on("focus",(function(){$("p.error").remove(),$("input").css({"box-shadow":"none"}),$("p.success").remove()})),$("#submit-register").on("click",(function(e){e.preventDefault(),$("p.error").remove(),$("p.success").remove();var o={login:$("#reg-login").val(),password:$("#reg-password").val(),passwordConfirm:$("#pass-repeat").val()};$.ajax({type:"POST",data:JSON.stringify(o),contentType:"application/json",url:"api/auth/register"}).done((function(e){var o=e.resultCode,r=(e.error,e.message),t=e.fields;_objectWithoutProperties(e,["resultCode","error","message","fields"]);102===o?(t.forEach((function(e){$("input[name = ".concat(e,"]")).css({"box-shadow":"0 0 0 2px #ff9595","transition-duration":"0.6s"})})),$(".register h2").after("<p class='error'> ".concat(r," </p>"))):101===o&&(t.forEach((function(e){$("input[name = ".concat(e,"]")).css({"box-shadow":"none"})})),$(".register h2").after("<p class='success'> ".concat(r," </p>")))}))})),$("#submit-login").on("click",(function(e){e.preventDefault(),$("p.error").remove(),$("p.success").remove();var o={login:$("#log-login").val(),password:$("#log-password").val()};$.ajax({type:"POST",data:JSON.stringify(o),contentType:"application/json",url:"api/auth/login"}).done((function(e){var o=e.resultCode,r=(e.error,e.message),t=e.fields,s=void 0===t?[]:t;_objectWithoutProperties(e,["resultCode","error","message","fields"]);102===o?(s.forEach((function(e){$("input[name = ".concat(e,"]")).css({"box-shadow":"0 0 0 2px #ff9595","transition-duration":"0.6s"})})),$(".login h2").after("<p class='error'> ".concat(r," </p>"))):101===o&&(s.forEach((function(e){$("input[name = ".concat(e,"]")).css({"box-shadow":"none"})})),$(".login h2").after("<p class='success'> ".concat(r," </p>")))}))}))}));